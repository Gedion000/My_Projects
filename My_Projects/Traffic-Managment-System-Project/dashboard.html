<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Traffic Control Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
        }
        
        .dashboard-container {
            display: flex;
            min-height: 100vh;
        }
        
        /* Sidebar Styles */
        .sidebar {
            width: 250px;
            background-color: #2c3e50;
            color: white;
            display: flex;
            flex-direction: column;
        }
        
        .sidebar-header {
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid #34495e;
        }
        
        .logo {
            width: 50px;
            height: 50px;
            margin-bottom: 10px;
        }
        
        .sidebar-nav ul {
            list-style: none;
            padding: 20px 0;
            flex-grow: 1;
        }
        
        .sidebar-nav li {
            padding: 12px 20px;
            transition: background-color 0.3s;
        }
        
        .sidebar-nav li.active {
            background-color: #34495e;
            border-left: 4px solid #3498db;
        }
        
        .sidebar-nav li:hover:not(.active) {
            background-color: #34495e;
        }
        
        .sidebar-nav a {
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid #34495e;
        }
        
        #logoutBtn {
            background: none;
            border: none;
            color: white;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            width: 100%;
            padding: 8px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        
        #logoutBtn:hover {
            background-color: #e74c3c;
        }
        
        /* Main Content Styles */
        .main-content {
            flex-grow: 1;
            padding: 20px;
            background-color: #f5f7fa;
        }
        
        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #ddd;
        }
        
        .user-profile {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .user-profile img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }
        
        /* Widget Styles */
        .widget-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .widget {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            overflow: hidden;
        }
        
        .widget-header {
            padding: 15px 20px;
            background-color: #3498db;
            color: white;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .widget-body {
            padding: 20px;
        }
        
        .stat-value {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-change {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 14px;
        }
        
        .stat-change.positive {
            color: #2ecc71;
        }
        
        .stat-change.negative {
            color: #e74c3c;
        }
        
        /* Traffic Map Styles */
        .traffic-map {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
            overflow: hidden;
        }
        
        .map-header {
            padding: 15px 20px;
            background-color: #2c3e50;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .map-controls {
            display: flex;
            gap: 10px;
        }
        
        .map-controls button {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            padding: 5px;
        }
        
        .map-container {
            height: 400px;
            overflow: hidden;
        }
        
        .map-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* Signal Control Styles */
        .signal-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }
        
        .signal-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            padding: 20px;
        }
        
        .signal-status {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
        }
        
        .light {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #ddd;
            position: relative;
        }
        
        .light::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            opacity: 0.3;
        }
        
        .light.red.active { background-color: #e74c3c; }
        .light.yellow.active { background-color: #f39c12; }
        .light.green.active { background-color: #2ecc71; }
        
        .signal-timer {
            margin-left: auto;
            font-weight: bold;
            font-size: 18px;
        }
        
        .signal-actions {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .action-btn {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            transition: background-color 0.3s;
        }
        
        .action-btn[data-action="stop"] {
            background-color: #e74c3c;
            color: white;
        }
        
        .action-btn[data-action="caution"] {
            background-color: #f39c12;
            color: white;
        }
        
        .action-btn[data-action="go"] {
            background-color: #2ecc71;
            color: white;
        }
        
        .timing-control {
            margin-top: 15px;
        }
        
        .timing-slider {
            width: 100%;
            margin-top: 10px;
        }
        
        /* Section Header Styles */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .control-mode-selector {
            display: flex;
            gap: 10px;
        }
        
        .mode-btn {
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: background-color 0.3s;
        }
        
        .mode-btn.active {
            background-color: #3498db;
            color: white;
        }
        
        /* Alerts Section */
        .alerts-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
        }
        
        .alert-item {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .alert-item.critical {
            background: #ffebee;
            border-left: 3px solid #f44336;
        }
        
        .alert-item.warning {
            background: #fff8e1;
            border-left: 3px solid #ffc107;
        }
        
        .alert-item.info {
            background: #e3f2fd;
            border-left: 3px solid #2196f3;
        }
        
        .view-all-btn {
            margin-top: 15px;
            padding: 8px 15px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        /* Priority Control */
        .priority-control {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
        }
        
        .priority-options {
            display: flex;
            gap: 10px;
            margin: 15px 0;
        }
        
        .priority-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            background-color: white;
            transition: transform 0.3s;
        }
        
        .priority-btn:hover {
            transform: translateY(-3px);
        }
        
        .priority-btn i {
            font-size: 24px;
        }
        
        .help-text {
            font-size: 14px;
            color: #666;
            text-align: center;
        }

        
        
        /* Incident Report */
        .incident-report {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            margin-top: 30px;
        }
        
        .incident-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .incident-form select,
        .incident-form input,
        .incident-form textarea {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .incident-form textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .submit-btn {
            padding: 12px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }
        
        /* Analytics Filters */
        .analytics-filters {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            margin-top: 30px;
        }
        
        .filter-options {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 15px;
        }
        
        .filter-group {
            flex: 1;
            min-width: 200px;
        }
        
        .filter-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .filter-group select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .apply-filters {
            padding: 10px 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            margin-top: 15px;
        }
        
        /* Toast Notifications */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #333;
            color: white;
            padding: 15px 20px;
            border-radius: 4px;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s;
            z-index: 1000;
        }
        
        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .toast-content {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .dashboard-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
            }
            
            .widget-row {
                grid-template-columns: 1fr;
            }
            
            .signal-grid {
                grid-template-columns: 1fr;
            }
            
            .priority-options {
                flex-direction: column;
            }
        }

        /* Analysis Dashboard Styles */
.analysis-dashboard {
    margin-top: 30px;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.analysis-row {
    display: flex;
    gap: 20px;
}

.analysis-card {
    background: white;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    flex: 1;
}

.analysis-card.wide {
    flex: 2;
}

.metric-value {
    font-size: 32px;
    font-weight: bold;
    margin: 10px 0 5px;
}

.metric-value small {
    font-size: 16px;
    color: #666;
}

.metric-time {
    color: #666;
    font-size: 14px;
}

.metric-change {
    display: flex;
    align-items: center;
    gap: 5px;
    font-size: 14px;
    margin-top: 5px;
}

.metric-change.positive {
    color: #2ecc71;
}

.metric-change.negative {
    color: #e74c3c;
}

.progress-bar {
    height: 8px;
    background: #eee;
    border-radius: 4px;
    margin: 15px 0 10px;
}

.progress-fill {
    height: 100%;
    border-radius: 4px;
    background: #3498db;
}

.chart-container {
    height: 250px;
    margin-top: 15px;
    position: relative;
}

.sparkline {
    height: 60px;
    margin-top: 15px;
}

.hotspot-map img {
    width: 100%;
    border-radius: 4px;
    margin-top: 10px;
}

.social-media-links {
    display: flex;
    justify-content: center;
    gap: 15px;
    padding: 15px 0;
    border-bottom: 1px solid #34495e;
}

.social-media-links a {
    color: white;
    font-size: 18px;
    transition: color 0.3s;
}

.social-media-links a:hover {
    color: #3498db;
}

.controls {
    position: absolute;
    top: 15px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
    width: 300px;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 14px;
}




    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="images/traffic-logo.png" class="logo">
                <h2>Traffic Control</h2>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li class="active">
                        <a href="#dashboard">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="#signal-control">
                            <i class="fas fa-traffic-light"></i>
                            <span>Signal Control</span>
                        </a>
                    </li>
                    <li>
                        <a href="#incidents">
                            <i class="fas fa-car-crash"></i>
                            <span>Incidents</span>
                        </a>
                    </li>
                    <li>
                        <a href="#analytics">
                            <i class="fas fa-chart-line"></i>
                            <span>Analytics</span>
                        </a>
                        
                    </li>


                </ul>
            </nav>
            <div class="sidebar-footer">

                <div class="social-media-links">
                    <a href="https://facebook.com" target="_blank"><i class="fab fa-facebook"></i></a>
                    <a href="https://twitter.com" target="_blank"><i class="fab fa-twitter"></i></a>
                    <a href="https://instagram.com" target="_blank"><i class="fab fa-instagram"></i></a>
                    <a href="https://linkedin.com" target="_blank"><i class="fab fa-linkedin"></i></a>
                </div>
                <button id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </button>


            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Dashboard Header -->
            <header class="content-header">
                <h1 id="pageTitle">Dashboard Overview</h1>
                <div class="user-profile">
                    <img src="images/user-avatar.png" alt="Admin User">
                    <span>Admin User</span>
                </div>
            </header>

            <!-- Dashboard Content -->
            <div class="content-section" id="dashboardContent">
                <!-- Dashboard Widgets -->
                <div class="widget-row">
                    <div class="widget">
                        <div class="widget-header">
                            <i class="fas fa-car"></i>
                            <h3>Vehicle Volume</h3>
                        </div>
                        <div class="widget-body">
                            <div class="stat-value">24,532</div>
                            <div class="stat-change positive">
                                <i class="fas fa-arrow-up"></i> 12% from yesterday
                            </div>
                        </div>
                    </div>
                    
                    <div class="widget">
                        <div class="widget-header">
                            <i class="fas fa-exclamation-triangle"></i>
                            <h3>Active Incidents</h3>
                        </div>
                        <div class="widget-body">
                            <div class="stat-value">8</div>
                            <div class="stat-change negative">
                                <i class="fas fa-arrow-up"></i> 2 new today
                            </div>
                        </div>
                    </div>
                    
                    <div class="widget">
                        <div class="widget-header">
                            <i class="fas fa-clock"></i>
                            <h3>Avg. Response Time</h3>
                        </div>
                        <div class="widget-body">
                            <div class="stat-value">14.2 min</div>
                            <div class="stat-change positive">
                                <i class="fas fa-arrow-down"></i> 18% improvement
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Traffic Map -->
                <div class="traffic-map">
                    <div class="map-header">
                        <h2><i class="fas fa-map-marked-alt"></i> Live Traffic Map</h2>
                        <div class="map-controls">
                            <button id="zoomIn"><i class="fas fa-search-plus"></i></button>
                            <button id="zoomOut"><i class="fas fa-search-minus"></i></button>
                            <button id="refreshMap"><i class="fas fa-sync-alt"></i></button>
                        </div>
                    </div>
                    <div class="map-container" id="trafficMap">
                        <input id="searchBox" class="controls" type="text" placeholder="Search for a location">
                        <div id="map" style="height: 100%; width: 100%;"></div>
                    </div>
                    
                </div>

                <!-- Live Traffic Alerts Section -->
                <div class="alerts-section">
                    <h2><i class="fas fa-bell"></i> Live Traffic Alerts</h2>
                    <div class="alert-list">
                        <div class="alert-item critical">
                            <i class="fas fa-exclamation-circle"></i>
                            <span>Accident reported on Main St - Expect delays</span>
                        </div>
                        <div class="alert-item warning">
                            <i class="fas fa-traffic-light"></i>
                            <span>Signal malfunction at 5th Avenue</span>
                        </div>
                        <div class="alert-item info">
                            <i class="fas fa-info-circle"></i>
                            <span>Construction work on Highway 101 until 6PM</span>
                        </div>
                    </div>
                    <button class="view-all-btn">View All Alerts</button>
                </div>
            </div>

            <!-- Signal Control Content -->
            <div class="content-section" id="signalControlContent" style="display:none">
                <div class="section-header">
                    <h2><i class="fas fa-traffic-light"></i> Traffic Signal Control</h2>
                    <div class="control-mode-selector">
                        <button class="mode-btn active" data-mode="auto">
                            <i class="fas fa-robot"></i> Automatic Mode
                        </button>
                        <button class="mode-btn" data-mode="manual">
                            <i class="fas fa-hand-paper"></i> Manual Mode
                        </button>
                    </div>
                </div>
                
                <div class="signal-grid">
                    <!-- Intersection 1 -->
                    <div class="signal-card">
                        <h3>Main St & 1st Ave</h3>
                        <div class="signal-status">
                            <div class="light red active"></div>
                            <div class="light yellow"></div>
                            <div class="light green"></div>
                            <div class="signal-timer">45s</div>
                        </div>
                        <div class="signal-actions">
                            <button class="action-btn" data-action="stop">
                                <i class="fas fa-hand-paper"></i> Stop
                            </button>
                            <button class="action-btn" data-action="caution">
                                <i class="fas fa-exclamation"></i> Caution
                            </button>
                            <button class="action-btn" data-action="go">
                                <i class="fas fa-walking"></i> Go
                            </button>
                        </div>
                        <div class="timing-control">
                            <label>Cycle Duration: <span class="timing-value">45</span>s</label>
                            <input type="range" min="30" max="120" value="45" class="timing-slider">
                        </div>
                    </div>
                    
                    <!-- Intersection 2 -->
                    <div class="signal-card">
                        <h3>2nd St & Broadway</h3>
                        <div class="signal-status">
                            <div class="light red"></div>
                            <div class="light yellow"></div>
                            <div class="light green active"></div>
                            <div class="signal-timer">28s</div>
                        </div>
                        <div class="signal-actions">
                            <button class="action-btn" data-action="stop">
                                <i class="fas fa-hand-paper"></i> Stop
                            </button>
                            <button class="action-btn" data-action="caution">
                                <i class="fas fa-exclamation"></i> Caution
                            </button>
                            <button class="action-btn" data-action="go">
                                <i class="fas fa-walking"></i> Go
                            </button>
                        </div>
                        <div class="timing-control">
                            <label>Cycle Duration: <span class="timing-value">60</span>s</label>
                            <input type="range" min="30" max="120" value="60" class="timing-slider">
                        </div>
                    </div>
                </div>

                <!-- Emergency Vehicle Priority Section -->
                <div class="priority-control">
                    <h2><i class="fas fa-ambulance"></i> Emergency Vehicle Priority</h2>
                    <div class="priority-options">
                        <button class="priority-btn">
                            <i class="fas fa-ambulance"></i> Ambulance Route
                        </button>
                        <button class="priority-btn">
                            <i class="fas fa-fire"></i> Fire Truck Route
                        </button>
                        <button class="priority-btn">
                            <i class="fas fa-shield-alt"></i> Police Route
                        </button>
                    </div>
                    <p class="help-text">Activate to give green light priority to emergency vehicles</p>
                </div>
            </div>

            <!-- Incidents Content -->
            <div class="content-section" id="incidentsContent" style="display:none">
                <div class="section-header">
                    <h2><i class="fas fa-car-crash"></i> Traffic Incidents</h2>
                    <button class="refresh-btn">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                </div>
                
                <!-- Incident Report Section -->
                <div class="incident-report">
                    <h2><i class="fas fa-edit"></i> Report New Incident</h2>
                    <form class="incident-form">
                        <select class="incident-type">
                            <option>Accident</option>
                            <option>Road Hazard</option>
                            <option>Signal Failure</option>
                            <option>Congestion</option>
                        </select>
                        <input type="text" placeholder="Location" class="incident-location">
                        <textarea placeholder="Additional details"></textarea>
                        <button type="submit" class="submit-btn">
                            <i class="fas fa-paper-plane"></i> Submit Report
                        </button>
                    </form>
                </div>
            </div>

            <!-- Analytics Content -->
            <div class="content-section" id="analyticsContent" style="display:none">
                <div class="section-header">
                    <h2><i class="fas fa-chart-line"></i> Traffic Analytics</h2>
                    <button class="export-btn">
                        <i class="fas fa-file-export"></i> Export Data
                    </button>

                  
                </div>
                
                <!-- Analytics Filters Section -->
                
                  
                        <div class="analytics-filters">
                            <h2><i class="fas fa-filter"></i> Data Filters</h2>
                            <div class="filter-options">
                                <div class="filter-group">
                                    <label>Time Range:</label>
                                    <select id="timeRange">
                                        <option>Last 24 hours</option>
                                        <option>Last 7 days</option>
                                        <option selected>Last month</option>
                                    </select>
                                </div>
                                <div class="filter-group">
                                    <label>Intersection:</label>
                                    <select id="intersectionSelect">
                                        <option>All Intersections</option>
                                        <option>Main St & 1st Ave</option>
                                        <option>2nd St & Broadway</option>
                                    </select>
                                </div>
                                <button class="apply-filters" id="applyFilters">
                                    <i class="fas fa-chart-pie"></i> Apply Filters
                                </button>
                            </div>
                        </div>
                        <div class="analysis-dashboard">
                            <!-- Row 1: Key Metrics -->
                            <div class="analysis-row">
                                <div class="analysis-card">
                                    <h3><i class="fas fa-car"></i> Peak Hour Volume</h3>
                                    <div class="metric-value">1,842 <small>vehicles/hr</small></div>
                                    <div class="metric-time">@ 8:15 AM</div>
                                    <div class="sparkline" id="peakHourChart"></div>
                                </div>
                                
                                <div class="analysis-card">
                                    <h3><i class="fas fa-clock"></i> Avg. Delay</h3>
                                    <div class="metric-value">2.4 <small>minutes</small></div>
                                    <div class="metric-change positive">
                                        <i class="fas fa-arrow-down"></i> 12% better
                                    </div>
                                    <div class="sparkline" id="delayTrendChart"></div>
                                </div>
                                
                                <div class="analysis-card">
                                    <h3><i class="fas fa-traffic-light"></i> Signal Efficiency</h3>
                                    <div class="metric-value">87%</div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 87%"></div>
                                    </div>
                                    <div class="metric-detail">+5% vs last month</div>
                                </div>
                            </div>
                    
                            <!-- Row 2: Main Charts -->
                            <div class="analysis-row">
                                <div class="analysis-card wide">
                                    <h3><i class="fas fa-chart-bar"></i> Hourly Traffic Volume</h3>
                               <div class="chart-container">
    <canvas id="hourlyChart"></canvas>
</div>

                                </div>
                                
                                <div class="analysis-card">
                                     <h3><i class="fas fa-pie-chart"></i> Vehicle Distribution</h3>
                           <div class="chart-container">
                        <canvas id="vehicleChart"></canvas>
                            </div>

                                </div>
                            </div>
                    
                            <!-- Row 3: Trend Analysis -->
                            <div class="analysis-row">
                                <div class="analysis-card">
                                    <h3><i class="fas fa-calendar-alt"></i> Daily Trends</h3>
                                 <div class="chart-container">
                                 <canvas id="dailyChart"></canvas>
                                  </div>

                                </div>
                                
                                <div class="analysis-card wide">
                                    <h3><i class="fas fa-road"></i> Congestion Hotspots</h3>
                               <div class="hotspot-map" id="hotspotMap">
                           <div class="map-container" id="trafficMap">
                           <input id="searchBox" class="controls" type="text" placeholder="Search for a location">
                        <div id="map" style="height: 100%; width: 100%;"></div>
                          </div>

                                      </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    </div>
                </div>
            </div>

        </div> <!-- End of analyticsContent -->

        <!-- ▼▼▼ ADD ANNOUNCEMENTS SECTION HERE ▼▼▼ -->
        <!-- Announcements Content -->
        <div class="content-section" id="announcementsContent" style="display:none">
            <div class="section-header">
                <h2><i class="fas fa-bullhorn"></i> Announcements</h2>
                <button class="add-announcement-btn">
                    <i class="fas fa-plus"></i> Add Announcement
                </button>
            </div>
            
            <div class="announcement-list">
                <div class="widget">
                    <div class="widget-header">
                        <i class="fas fa-list"></i>
                        <h3>Current Announcements</h3>
                    </div>
                    <div class="widget-body">
                        <div class="announcement-item">
                            <h4>Road Closure - Main Street</h4>
                            <p>Main Street will be closed for construction from June 20-25. Please use alternate routes.</p>
                            <div class="announcement-meta">
                                <span><i class="fas fa-calendar"></i> June 15, 2023</span>
                                <span><i class="fas fa-user"></i> Admin</span>
                            </div>
                            <div class="announcement-actions">
                                <button class="action-btn edit-btn"><i class="fas fa-edit"></i> Edit</button>
                                <button class="action-btn delete-btn"><i class="fas fa-trash"></i> Delete</button>
                            </div>
                        </div>
                        
                        <div class="announcement-item">
                            <h4>New Traffic Pattern</h4>
                            <p>Starting next week, a new traffic pattern will be implemented at 5th and Elm intersection.</p>
                            <div class="announcement-meta">
                                <span><i class="fas fa-calendar"></i> June 10, 2023</span>
                                <span><i class="fas fa-user"></i> Admin</span>
                            </div>
                            <div class="announcement-actions">
                                <button class="action-btn edit-btn"><i class="fas fa-edit"></i> Edit</button>
                                <button class="action-btn delete-btn"><i class="fas fa-trash"></i> Delete</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- ▲▲▲ END OF ANNOUNCEMENTS SECTION ▲▲▲ -->

    </main> <!-- Closing main tag -->
</div> <!-- Closing dashboard-container -->
        </main>
    </div>

    <script>
        // Navigation Control
        document.querySelectorAll('.sidebar-nav a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Update active state
                document.querySelectorAll('.sidebar-nav li').forEach(item => {
                    item.classList.remove('active');
                });
                this.closest('li').classList.add('active');
                
                // Update page title
                const pageTitle = this.querySelector('span').textContent;
                document.getElementById('pageTitle').textContent = pageTitle;
                
                // Show corresponding content
                const target = this.getAttribute('href').substring(1);
                document.querySelectorAll('.content-section').forEach(section => {
                    section.style.display = 'none';
                });
                
                if(target === 'dashboard') {
                    document.getElementById('dashboardContent').style.display = 'block';
                } 
                else if(target === 'signal-control') {
                    document.getElementById('signalControlContent').style.display = 'block';
                }
                else if(target === 'incidents') {
                    document.getElementById('incidentsContent').style.display = 'block';
                }
                else if(target === 'analytics') {
                    document.getElementById('analyticsContent').style.display = 'block';
                }
                
                showToast(`Switched to ${pageTitle} view`);
            });
        });

        // Signal Control Functionality
        document.querySelectorAll('.mode-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                const mode = this.dataset.mode;
                const intersections = document.querySelectorAll('.signal-card');
                
                if(mode === 'manual') {
                    intersections.forEach(card => {
                        card.querySelectorAll('.action-btn').forEach(btn => {
                            btn.disabled = false;
                        });
                    });
                    showToast('Manual control activated');
                } else {
                    intersections.forEach(card => {
                        card.querySelectorAll('.action-btn').forEach(btn => {
                            btn.disabled = true;
                        });
                    });
                    showToast('Automatic mode activated');
                }
            });
        });

        // Signal Actions
        document.querySelectorAll('.action-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                if(this.disabled) return;
                
                const action = this.dataset.action;
                const card = this.closest('.signal-card');
                const lights = card.querySelectorAll('.light');
                
                lights.forEach(light => light.classList.remove('active'));
                
                switch(action) {
                    case 'stop':
                        card.querySelector('.light.red').classList.add('active');
                        card.querySelector('.signal-timer').textContent = '45s';
                        break;
                    case 'caution':
                        card.querySelector('.light.yellow').classList.add('active');
                        card.querySelector('.signal-timer').textContent = '10s';
                        break;
                    case 'go':
                        card.querySelector('.light.green').classList.add('active');
                        card.querySelector('.signal-timer').textContent = '30s';
                        break;
                }
                
                showToast(`Changed signal to ${action} at ${card.querySelector('h3').textContent}`);
            });
        });

        // Timing Sliders
        document.querySelectorAll('.timing-slider').forEach(slider => {
            slider.addEventListener('input', function() {
                const value = this.value;
                const card = this.closest('.signal-card');
                card.querySelector('.timing-value').textContent = value;
                
                if(!document.querySelector('.mode-btn[data-mode="manual"]').classList.contains('active')) {
                    showToast(`Signal timing updated to ${value}s (will apply in auto mode)`);
                }
            });
        });

        // Map Controls
        document.getElementById('zoomIn').addEventListener('click', () => {
            showToast('Zooming in on map');
        });
        
        document.getElementById('zoomOut').addEventListener('click', () => {
            showToast('Zooming out on map');
        });
        
        document.getElementById('refreshMap').addEventListener('click', () => {
            showToast('Refreshing map data');
        });

        // Emergency Priority Buttons
        document.querySelectorAll('.priority-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const vehicleType = this.querySelector('i').className.split(' ')[1];
                let vehicleName = '';
                
                switch(vehicleType) {
                    case 'fa-ambulance':
                        vehicleName = 'Ambulance';
                        break;
                    case 'fa-fire':
                        vehicleName = 'Fire Truck';
                        break;
                    case 'fa-shield-alt':
                        vehicleName = 'Police';
                        break;
                }
                
                showToast(`Priority route activated for ${vehicleName}`);
                
                // Simulate signal change for emergency vehicle
                document.querySelectorAll('.signal-card').forEach(card => {
                    const lights = card.querySelectorAll('.light');
                    lights.forEach(light => light.classList.remove('active'));
                    card.querySelector('.light.green').classList.add('active');
                    card.querySelector('.signal-timer').textContent = '60s';
                });
            });
        });

        // Incident Report Form
        document.querySelector('.incident-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const type = this.querySelector('.incident-type').value;
            const location = this.querySelector('.incident-location').value;
            
            if(!location) {
                showToast('Please enter a location');
                return;
            }
            
            showToast(`Incident reported: ${type} at ${location}`);
            this.reset();
        });

        // Analytics Filters
        document.querySelector('.apply-filters').addEventListener('click', function() {
            const timeRange = document.querySelector('.filter-group:nth-child(1) select').value;
            const intersection = document.querySelector('.filter-group:nth-child(2) select').value;
            
            showToast(`Applying filters: ${timeRange}, ${intersection}`);
        });

        // Logout Functionality
        document.getElementById('logoutBtn').addEventListener('click', () => {
            if(confirm('Are you sure you want to logout?')) {
                showToast('Logging out...');
                setTimeout(() => {
                    window.location.href = 'index.html';
                }, 1000);
            }
        });

        // Toast Notification System
        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.innerHTML = `
                <div class="toast-content">
                    <i class="fas fa-info-circle"></i>
                    <span>${message}</span>
                </div>
            `;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.classList.add('show');
                setTimeout(() => {
                    toast.classList.remove('show');
                    setTimeout(() => toast.remove(), 300);
                }, 3000);
            }, 100);
        }

        // Traffic light sequence control
        function setupSignalSequence() {
            const signals = document.querySelectorAll('.signal-card');
            
            signals.forEach(signal => {
                if(signal.querySelector('.mode-btn.active').dataset.mode === 'auto') {
                    startSignalCycle(signal);
                }
            });
        }
        
        function startSignalCycle(signal) {
            const lights = signal.querySelectorAll('.light');
            const timer = signal.querySelector('.signal-timer');
            const duration = parseInt(signal.querySelector('.timing-slider').value);
            
            // Red phase
            lights.forEach(light => light.classList.remove('active'));
            signal.querySelector('.light.red').classList.add('active');
            timer.textContent = `${duration}s`;
            
            setTimeout(() => {
                // Red + Yellow phase
                signal.querySelector('.light.yellow').classList.add('active');
                timer.textContent = '5s';
                
                setTimeout(() => {
                    // Green phase
                    lights.forEach(light => light.classList.remove('active'));
                    signal.querySelector('.light.green').classList.add('active');
                    timer.textContent = `${duration}s`;
                    
                    setTimeout(() => {
                        // Yellow phase
                        signal.querySelector('.light.green').classList.remove('active');
                        signal.querySelector('.light.yellow').classList.add('active');
                        timer.textContent = '5s';
                        
                        // Restart cycle
                        setTimeout(() => startSignalCycle(signal), 5000);
                    }, duration * 1000);
                }, 5000);
            }, duration * 1000);
        }
        
        // Sample alert data - in a real app, this would come from an API
const allAlerts = [
    { 
        type: 'critical', 
        icon: 'fa-exclamation-circle', 
        message: 'Accident reported on Main St - Expect delays', 
        time: '10:45 AM' 
    },
    { 
        type: 'warning', 
        icon: 'fa-traffic-light', 
        message: 'Signal malfunction at 5th Avenue', 
        time: '09:30 AM' 
    },
    { 
        type: 'info', 
        icon: 'fa-info-circle', 
        message: 'Construction work on Highway 101 until 6PM', 
        time: '08:15 AM' 
    },
    { 
        type: 'critical', 
        icon: 'fa-car-crash', 
        message: 'Multi-vehicle collision on I-95 North', 
        time: '07:50 AM' 
    },
    { 
        type: 'warning', 
        icon: 'fa-road', 
        message: 'Pothole reported on Oak Street', 
        time: 'Yesterday' 
    }
];

// View All Alerts button functionality
document.querySelector('.view-all-btn').addEventListener('click', function() {
    // Create modal HTML
    const modalHTML = `
        <div class="alert-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2><i class="fas fa-bell"></i> All Traffic Alerts</h2>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    ${allAlerts.map(alert => `
                        <div class="alert-item ${alert.type}">
                            <i class="fas ${alert.icon}"></i>
                            <div class="alert-details">
                                <span class="alert-message">${alert.message}</span>
                                <span class="alert-time">${alert.time}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                <div class="modal-footer">
                    <button class="dismiss-all-btn">
                        <i class="fas fa-check-circle"></i> Dismiss All
                    </button>
                </div>
            </div>
        </div>
    `;
    
    // Add modal to DOM
    document.body.insertAdjacentHTML('beforeend', modalHTML);
    
    // Close modal functionality
    document.querySelector('.close-modal').addEventListener('click', closeModal);
    
    // Dismiss all alerts functionality
    document.querySelector('.dismiss-all-btn').addEventListener('click', function() {
        showToast('All alerts dismissed');
        closeModal();
    });
    
    // Close modal when clicking outside content
    document.querySelector('.alert-modal').addEventListener('click', function(e) {
        if (e.target === this) {
            closeModal();
        }
    });
});

document.querySelector('.view-all-btn').addEventListener('click', function() {
    // ... [previous modal creation code] ...
    
    // Add modal to DOM
    document.body.insertAdjacentHTML('beforeend', modalHTML);
    
    // Trigger animation
    setTimeout(() => {
        document.querySelector('.alert-modal').classList.add('show');
    }, 10);
    
    // ... [rest of the code] ...
});

function closeModal() {
    document.querySelector('.alert-modal').remove();
}
        
        // Initialize signal sequences
        setupSignalSequence();

        document.querySelector('.view-all-btn').addEventListener('click', function () {
    const modalHTML = `
        <div class="alert-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2><i class="fas fa-bell"></i> All Traffic Alerts</h2>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    ${allAlerts.map(alert => `
                        <div class="alert-item ${alert.type}">
                            <i class="fas ${alert.icon}"></i>
                            <div class="alert-details">
                                <span class="alert-message">${alert.message}</span>
                                <span class="alert-time">${alert.time}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                <div class="modal-footer">
                    <button class="dismiss-all-btn">
                        <i class="fas fa-check-circle"></i> Dismiss All
                    </button>
                </div>
            </div>
        </div>
    `;

    document.body.insertAdjacentHTML('beforeend', modalHTML);

    // Trigger animation
    setTimeout(() => {
        document.querySelector('.alert-modal').classList.add('show');
    }, 10);

    // Close and dismiss logic
    document.querySelector('.close-modal').addEventListener('click', closeModal);
    document.querySelector('.dismiss-all-btn').addEventListener('click', function () {
        showToast('All alerts dismissed');
        closeModal();
    });

    document.querySelector('.alert-modal').addEventListener('click', function (e) {
        if (e.target === this) closeModal();
    });
});

function closeModal() {
    const modal = document.querySelector('.alert-modal');
    if (modal) modal.remove();
}

    </script>

    <!-- Leaflet and Geocoder -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
<link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>

<script>
    const map = L.map('map').setView([9.03, 38.74], 13);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    L.marker([9.03, 38.74]).addTo(map)
        .bindPopup('Center of Addis Ababa')
        .openPopup();

    L.Control.geocoder({
        defaultMarkGeocode: true
    }).addTo(map);
</script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://unpkg.com/leaflet.heat/dist/leaflet-heat.js"></script>
<script>
    // Initialize Leaflet map for congestion hotspots
    const hotspotMap = L.map('hotspotLeafletMap').setView([9.03, 38.74], 13);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; OpenStreetMap contributors'
    }).addTo(hotspotMap);

    // Example congestion data: [lat, lng, intensity]
    const congestionData = [
        [9.030, 38.740, 0.9],
        [9.031, 38.742, 0.6],
        [9.032, 38.738, 0.7],
        [9.029, 38.743, 0.8],
        [9.028, 38.739, 0.5]
    ];

    const heat = L.heatLayer(congestionData, { radius: 25 }).addTo(hotspotMap);
</script>
<script>
    // VEHICLE DISTRIBUTION CHART
    new Chart(document.getElementById('vehicleChart'), {
        type: 'pie',
        data: {
            labels: ['Cars', 'Buses', 'Trucks', 'Motorcycles'],
            datasets: [{
                label: 'Vehicle Types',
                data: [45, 15, 25, 15],
                backgroundColor: ['#3498db', '#f39c12', '#2ecc71', '#9b59b6']
            }]
        }
    });

    // HOURLY TRAFFIC VOLUME CHART
    new Chart(document.getElementById('hourlyChart'), {
        type: 'bar',
        data: {
            labels: ['6AM', '7AM', '8AM', '9AM', '10AM', '11AM'],
            datasets: [{
                label: 'Vehicles per Hour',
                data: [200, 350, 500, 430, 300, 220],
                backgroundColor: '#3498db'
            }]
        }
    });

    // DAILY TREND CHART
    new Chart(document.getElementById('dailyChart'), {
        type: 'line',
        data: {
            labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
            datasets: [{
                label: 'Daily Traffic Volume',
                data: [1500, 1600, 1700, 1650, 1800, 1200, 1100],
                borderColor: '#2ecc71',
                borderWidth: 2,
                fill: false
            }]
        }
    });
</script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    const ctx = document.getElementById('vehicleChart');
    if (ctx) {
        new Chart(ctx, {
            type: 'pie',
            data: {
                labels: ['Cars', 'Buses', 'Trucks', 'Motorcycles'],
                datasets: [{
                    label: 'Vehicle Types',
                    data: [45, 15, 25, 15],
                    backgroundColor: ['#3498db', '#f39c12', '#2ecc71', '#9b59b6'],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom'
                    }
                }
            }
        });
    } else {
        console.warn('vehicleChart canvas not found!');
    }
</script>

</body>
</html>